drop database if exists uraniaRezervacije;
create database uraniaRezervacije character set utf8 collate utf8_general_ci;
# c:\xampp\mysql\bin\mysql -uZeljko -pZeljko --default_character_set=utf8 < "C:\xampp\htdocs\uraniaRezervacije\uraniaRezervacije.sql"
use uraniaRezervacije;

create table administrator(
sifra           int not null primary key auto_increment,
korisnickoIme   varchar(150) not null,
eMail           varchar(150) not null,
lozinka         varchar(150) not null
)engine=innodb;

create table dogadaj(
sifra           int not null primary key auto_increment,
vrsta           varchar(150),
naziv           varchar(150) not null,
izvodac         varchar(150) not null,
organizator     varchar(150),
termin          datetime,
administrator   int not null,
aktivan         boolean
)engine=innodb;

create table sjedalo(
sifra           int not null primary key auto_increment,
dogadaj         int,
PR1S11xx        int,
PR1S22xx        int,
PR1S1           int,
PR1S2           int,
PR1S3           int,
PR1S4           int,
PR1S5           int,
PR1S6           int,
PR1S7           int,
PR1S8           int,
PR1S9           int,
PR1S10          int,
PR1S11          int,
PR1S12          int,
PR1S13          int,
PR1S14          int,
PR1S15xx        int,
PR1S16xx        int,
PR2S11xx        int,
PR2S22xx        int,
PR2S1           int,
PR2S2           int,
PR2S3           int,
PR2S4           int,
PR2S5           int,
PR2S6           int,
PR2S7           int,
PR2S8           int,
PR2S9           int,
PR2S10          int,
PR2S11          int,
PR2S12          int,
PR2S13          int,
PR2S14          int,
PR2S15xx        int,
PR2S16xx        int,
PR3S11xx        int,
PR3S22xx        int,
PR3S1           int,
PR3S2           int,
PR3S3           int,
PR3S4           int,
PR3S5           int,
PR3S6           int,
PR3S7           int,
PR3S8           int,
PR3S9           int,
PR3S10          int,
PR3S11          int,
PR3S12          int,
PR3S13          int,
PR3S14          int,
PR3S15xx        int,
PR3S16xx        int,
PR4S11xx        int,
PR4S22xx        int,
PR4S1           int,
PR4S2           int,
PR4S3           int,
PR4S4           int,
PR4S5           int,
PR4S6           int,
PR4S7           int,
PR4S8           int,
PR4S9           int,
PR4S10          int,
PR4S11          int,
PR4S12          int,
PR4S13          int,
PR4S14          int,
PR4S15xx        int,
PR4S16xx        int,
PR5S11xx        int,
PR5S22xx        int,
PR5S1           int,
PR5S2           int,
PR5S3           int,
PR5S4           int,
PR5S5           int,
PR5S6           int,
PR5S7           int,
PR5S8           int,
PR5S9           int,
PR5S10          int,
PR5S11          int,
PR5S12          int,
PR5S13          int,
PR5S14          int,
PR5S15xx        int,
PR5S16xx        int,
PR6S11xx        int,
PR6S22xx        int,
PR6S1           int,
PR6S2           int,
PR6S3           int,
PR6S4           int,
PR6S5           int,
PR6S6           int,
PR6S7           int,
PR6S8           int,
PR6S9           int,
PR6S10          int,
PR6S11          int,
PR6S12          int,
PR6S13          int,
PR6S14          int,
PR6S15xx        int,
PR6S16xx        int,
PR7S11xx        int,
PR7S22xx        int,
PR7S1           int,
PR7S2           int,
PR7S3           int,
PR7S4           int,
PR7S5           int,
PR7S6           int,
PR7S7           int,
PR7S8           int,
PR7S9           int,
PR7S10          int,
PR7S11          int,
PR7S12          int,
PR7S13          int,
PR7S14          int,
PR7S15xx        int,
PR7S16xx        int,
PR8S11xx        int,
PR8S22xx        int,
PR8S1           int,
PR8S2           int,
PR8S3           int,
PR8S4           int,
PR8S5           int,
PR8S6           int,
PR8S7           int,
PR8S8           int,
PR8S9           int,
PR8S10          int,
PR8S11          int,
PR8S12          int,
PR8S13          int,
PR8S14          int,
PR8S15xx        int,
PR8S16xx        int,
PR9S11xx        int,
PR9S22xx        int,
PR9S1           int,
PR9S2           int,
PR9S3           int,
PR9S4           int,
PR9S5           int,
PR9S6           int,
PR9S7           int,
PR9S8           int,
PR9S9           int,
PR9S10          int,
PR9S11          int,
PR9S12          int,
PR9S13          int,
PR9S14          int,
PR9S15xx        int,
PR9S16xx        int,
PR10S11xx       int,
PR10S22xx       int,
PR10S1          int,
PR10S2          int,
PR10S3          int,
PR10S4          int,
PR10S5          int,
PR10S6          int,
PR10S7          int,
PR10S8          int,
PR10S9          int,
PR10S10         int,
PR10S11         int,
PR10S12         int,
PR10S13         int,
PR10S14         int,
PR10S15xx       int,
PR10S16xx       int,
PR11S11xx       int,
PR11S22xx       int,
PR11S1          int,
PR11S2          int,
PR11S3          int,
PR11S4          int,
PR11S5          int,
PR11S6          int,
PR11S7          int,
PR11S8          int,
PR11S9          int,
PR11S10         int,
PR11S11         int,
PR11S12         int,
PR11S13         int,
PR11S14         int,
PR11S15xx       int,
PR11S16xx       int,
PR12S11xx       int,
PR12S22xx       int,
PR12S1          int,
PR12S2          int,
PR12S3          int,
PR12S4          int,
PR12S5          int,
PR12S6          int,
PR12S7          int,
PR12S8          int,
PR12S9          int,
PR12S10         int,
PR12S11         int,
PR12S12         int,
PR12S13         int,
PR12S14         int,
PR12S15xx       int,
PR12S16xx       int,
BR12S11xx       int,
BR1S1           int,
BR1S2           int,
BR1S3           int,
BR1S4           int,
BR1S5           int,
BR1S6           int,
BR1S7           int,
BR1S8           int,
BR1S9           int,
BR1S10          int,
BR1S11          int,
BR1S12          int,
BR1S13          int,
BR1S14          int,
BR1S15          int,
BR1S16          int,
BR12S16xx       int,
BR2S1           int,
BR2S2           int,
BR2S3           int,
BR2S4           int,
BR2S5           int,
BR2S6           int,
BR2S7           int,
BR2S8           int,
BR2S9           int,
BR2S10          int,
BR2S11          int,
BR2S12          int,
BR2S13          int,
BR2S14          int,
BR2S15          int,
BR2S16          int,
BR2S17          int,
BR2S18          int,
BR3S1           int,
BR3S2           int,
BR3S3           int,
BR3S4           int,
BR3S5           int,
BR3S6           int,
BR3S7           int,
BR3S8           int,
BR3S9           int,
BR3S10          int,
BR3S11          int,
BR3S12          int,
BR3S13          int,
BR3S14          int,
BR3S15          int,
BR3S16          int,
BR3S17          int,
BR3S18          int,
BR4S1           int,
BR4S2           int,
BR4S3           int,
BR4S4           int,
BR4S5           int,
BR4S6           int,
BR4S7           int,
BR4S8           int,
BR4S9           int,
BR4S10          int,
BR4S11          int,
BR4S12          int,
BR4S13          int,
BR4S14          int,
BR4S15          int,
BR4S16          int,
BR4S17          int,
BR4S18          int,
BR5S1           int,
BR5S2           int,
BR5S3           int,
BR5S4           int,
BR5S5           int,
BR5S6           int,
BR5S7           int,
BR5S8           int,
BR5S9           int,
BR5S10          int,
BR5S11          int,
BR5S12          int,
BR5S13          int,
BR5S14          int,
BR5S15          int,
BR5S16          int,
BR5S17          int,
BR5S18XX        int
)engine=innodb;

create table gledatelj(
sifra           int not null primary key auto_increment,
ime             varchar(100),
prezime         varchar(100) not null,
eMail           varchar(100),
telefon         varchar(100),
napomena        varchar(500),
gdpr            boolean
)engine=innodb;

alter table dogadaj add foreign key (administrator) references administrator(sifra);

alter table sjedalo add foreign key (dogadaj) references dogadaj(sifra);


insert into administrator(korisnickoIme, eMail, lozinka) values
("Skole","skole@kinematografi-osijek.hr", "$2y$10$i3SvlQW/yCppQkqWxC5vxO9walfKlx8SarQAm/g4/ILKLKAHXh1bW"),
("Ulaznice","ulaznice@kinematografi-osijek.hr", "$2y$10$f.3CnYlzlantn9Dc4DrAROmfF7yh.MXf4fSVZ5APtl76PXpDLcSUi"),
("Info","info@kinematografi-osijek.hr", "$2y$10$a66fzDEbXco2MvxRYMZJdenyT7BdD3/2wFRi5.i0xwa/DfpzMaV3e");

insert into dogadaj(vrsta, naziv, izvodac, organizator, administrator, termin) values
("stand up","Na komadiću Europe", "Željko Livaja", "Portal komunikacije", 2, "2019-04-18 20:00:00"),
("stand up","Na komadiću Europe", "Željko Livaja", "Portal komunikacije", 2, "2019-02-07 18:00:00"),
("stand up","Na komadiću Europe", "Željko Livaja", "Portal komunikacije", 2, "2019-02-07 20:00:00");

insert into gledatelj(ime, prezime, eMail, telefon, napomena, gdpr) values
("Željko", "Livaja", "zeljaos@gmail.com", "095/333-3333", "Iz Tenja, dolazi po karte na dan predstave", 1),
("Kristina", "Terzić", "kristina.terzic@gmail.com", "098/888-8888", "", 0),
("Tomislav", "Jakopec", "tjakopec@gmail.com", "095/555-5555", "", 0),
("Vlatka", "Balaš", "vlatka.balas@gmail.com", "091/111-1111", "Njene karte će kupiti Željko Livaja", 1),
("Ivan", "Cerjak", "ivan.cerjak@gmail.com", "098/222-2222", "", 1),
("Sonja", "Livaja", "sonja.livaja@gmail.com", "031/355-355", "", 0);

insert into sjedalo(dogadaj, PR1S1, PR1S2) values
(1,2,2),
(2,3,3),
(3,4,4);


